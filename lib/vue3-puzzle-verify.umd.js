(function(a,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(a=typeof globalThis<"u"?globalThis:a||self,e(a.Vue3PuzzleVerify={},a.Vue))})(this,function(a,e){"use strict";const y="data:image/svg+xml,%3csvg%20t='1735183612108'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='1450'%20width='200'%20height='200'%3e%3cpath%20d='M505.6%20121.6l396.8%20339.2c32%2025.6%2032%2070.4%200%2096l-396.8%20339.2c-25.6%2025.6-70.4%2019.2-89.6-6.4l0%200c-25.6-25.6-19.2-70.4%206.4-89.6L768%20512%20422.4%20217.6C396.8%20198.4%20390.4%20153.6%20416%20128l0%200C441.6%20102.4%20480%2096%20505.6%20121.6z'%20fill='%23fff'%20p-id='1451'%3e%3c/path%3e%3cpath%20d='M204.8%20121.6l396.8%20339.2c32%2025.6%2032%2070.4%200%2096l-396.8%20339.2c-25.6%2025.6-70.4%2019.2-89.6-6.4l0%200c-25.6-25.6-19.2-70.4%206.4-89.6L460.8%20512%20115.2%20217.6C89.6%20198.4%2089.6%20153.6%20108.8%20128l0%200C134.4%20102.4%20172.8%2096%20204.8%20121.6z'%20fill='%23fff'%20p-id='1452'%3e%3c/path%3e%3c/svg%3e",v="data:image/svg+xml,%3csvg%20t='1735183685296'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2434'%20width='200'%20height='200'%3e%3cpath%20d='M913.017%20237.02c-25.311-25.312-66.349-25.312-91.66%200l-412.475%20412.474-206.237-206.237c-25.312-25.312-66.35-25.312-91.661%200s-25.312%2066.35%200%2091.66l252.067%20252.067c0.729%200.73%201.439%201.402%202.134%202.029%2025.434%2023.257%2064.913%2022.585%2089.527-2.029l458.303-458.303c25.313-25.312%2025.313-66.35%200.001-91.661z'%20fill='%23fff'%20p-id='2435'%3e%3c/path%3e%3c/svg%3e",E="data:image/svg+xml,%3csvg%20t='1737879873464'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='9159'%20width='200'%20height='200'%3e%3cpath%20d='M831.3856%20107.264a60.3392%2060.3392%200%200%201%2085.3376%2085.3504L597.3376%20512%20916.736%20831.3856a60.352%2060.352%200%200%201%202.432%2082.7648l-2.432%202.5728a60.3392%2060.3392%200%200%201-85.3376%200L512%20597.3376%20192.6144%20916.736a60.352%2060.352%200%200%201-82.7648%202.432l-2.5728-2.432a60.3392%2060.3392%200%200%201%200-85.3376L426.6624%20512%20107.264%20192.6144a60.352%2060.352%200%200%201-2.432-82.7648l2.432-2.5728a60.3392%2060.3392%200%200%201%2085.3376%200L512%20426.6624%20831.3856%20107.264z'%20fill='%23ffffff'%20p-id='9160'%3e%3c/path%3e%3c/svg%3e",_="data:image/svg+xml,%3csvg%20t='1738747760234'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17010'%20width='200'%20height='200'%3e%3cpath%20d='M1024%20512c0%20282.72-229.28%20512-512%20512S0%20794.72%200%20512%20229.28%200%20512%200s512%20229.28%20512%20512'%20fill='%235A89FF'%20p-id='17011'%3e%3c/path%3e%3cpath%20d='M690.72%20812l-24.96-41.76c90.56-54.08%20146.72-152.96%20146.72-258.24%200-165.6-134.72-300.48-300.48-300.48v-48.64c192.48%200%20349.12%20156.64%20349.12%20349.12%200%20122.24-65.28%20237.28-170.4%20300z'%20fill='%23FFFFFF'%20p-id='17012'%3e%3c/path%3e%3cpath%20d='M558.72%20295.52l-66.56-94.4c-3.68-5.28-5.28-11.84-4.16-18.24%201.12-6.4%204.64-12%209.92-15.84l94.4-66.56%2028.16%2039.84-74.4%2052.48%2052.48%2074.4-39.84%2028.32zM512%20861.12c-192.48%200-349.12-156.64-349.12-349.12%200-126.24%2068.48-243.04%20178.56-304.8l23.84%2042.56c-94.88%2053.12-153.76%20153.6-153.76%20262.24%200%20165.6%20134.72%20300.48%20300.48%20300.48v48.64z'%20fill='%23FFFFFF'%20p-id='17013'%20data-spm-anchor-id='a313x.search_index.0.i16.472a3a81Xnqcy5'%20class=''%3e%3c/path%3e%3cpath%20d='M431.68%20923.2l-28.16-39.84%2074.4-52.48-52.48-74.4%2039.84-28%2066.56%2094.4c3.68%205.28%205.28%2011.84%204.16%2018.24-1.12%206.4-4.64%2012-9.92%2015.84l-94.4%2066.24z'%20fill='%23FFFFFF'%20p-id='17014'%3e%3c/path%3e%3c/svg%3e",N=(n,p)=>{const r=n.__vccOpts||n;for(const[c,s]of p)r[c]=s;return r},A={class:"modal-content"},j={class:"modal-body"},D=N({__name:"index",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:e.mergeModels(["update:visible"],["update:modelValue"]),setup(n,{emit:p}){const r=p;e.useModel(n,"modelValue");const c=()=>{r("update:visible",!1)},s=l=>{l.target===l.currentTarget&&c()};return(l,b)=>(e.openBlock(),e.createElementBlock("div",{class:"modal-mask",onClick:s},[e.createElementVNode("div",A,[e.createElementVNode("div",{class:"modal-header"},[e.createElementVNode("span",{class:"modal-close",onClick:c})]),e.createElementVNode("div",j,[e.renderSlot(l.$slots,"default",{},void 0,!0)])])]))}},[["__scopeId","data-v-963fa108"]]),X=["src"],G={class:"img-bg"},S=["src"],L=["src"],O=["src"],T={class:"img-bg"},R=["src"],$=["src"],U=["src"],H=["src"],W=["src"],Q={key:0,class:"slider-tips"},q={class:"puzzle-wrapper"},J=["src"],K={class:"img-bg"},Y=["src"],Z=["src"],ee=["src"],le=["src"],te=["src"],se={key:0,class:"slider-tips"},B=N(e.defineComponent({name:"PuzzleVerify",__name:"index",props:e.mergeModels({type:{default:"insert"},visible:{type:Boolean}},{modelValue:{default:!1,type:Boolean},modelModifiers:{}}),emits:e.mergeModels(["onSuccess","onFail","onDrag","onDragEnd"],["update:modelValue"]),setup(n,{expose:p,emit:r}){const c=r,s=e.useModel(n,"modelValue"),l=e.ref("default"),b=e.ref(),h=e.ref(),k=e.ref(),g=e.ref(!1),o=e.ref({backImg:"../../assets/images/bg/1.jpg",blockImg:"../../assets/images/bg-block/1.png",x:120}),d=e.ref({left:"0px"}),u=e.ref(!1),m=e.ref(!1),I=e.ref(0);let i=e.ref(0);const oe=[{backImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/59Cu4kNYM1mj7dhB9IAD0DrcPdgzXeAv/bg-1.jpg",blockImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/P6ffi1OdnJ0kUTgzj4Mek4d897XmvxKI/block-1.png",x:120},{backImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/1q5iWUnzfUOxRLE68LM27Ogm4uz8ctOg/bg-2.jpg",blockImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/hgLgLgxr0wzlHxAUFCF1QO6u4F8I8waj/block-2.png",x:86},{backImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/D5ILHWHJWu6I2PQ4ltCujxjkl5S4o0Io/bg-3.jpg",blockImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/X554G805mj9H58D3cv1FISOCq9kpwh5K/block-3.png",x:150},{backImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/sx4Wr4PDISAxe3DWwyxXK9Gp4PkPXoUm/bg-4.jpg",blockImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/g1EzR0l04lwvPpa43pQjsLeTdjSdHODF/block-4.png",x:142},{backImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/zukCx9wdRl4Ld39rN8cXJqofetp4aFLH/bg-5.jpg",blockImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/hKi4kiBdGe6SMMPtQlOcrf8RYKkVxcdy/block-5.png",x:186},{backImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/89rCBs76bghwC0QIsxfXxfjUxQTwT1u5/bg-6.jpg",blockImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/MRFz26fh9AL1CmjlwXBMxEd4pRN6B8XR/block-6.png",x:155},{backImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/lmxXBSBy76cUgDCWUWuslWvHwOICtm3x/bg-7.jpg",blockImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/X91NtOkw0FugeDSyi3l9nRuRr2d2O9XE/block-7.png",x:153},{backImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/4CUht3QeNkqe93JFX275TfBunVfbb3Wh/bg-8.jpg",blockImg:"http://lc-uwPGwsAs.cn-n1.lcfile.com/uezXcJVHACn8x9sxtH5eGao3OIAJM05z/block-8.png",x:150}],ae=()=>{g.value=!0},z=()=>{g.value=!1},C=t=>{u.value&&(m.value=!0,i.value=t.pageX-I.value,!(i.value<0||i.value>261)&&(h.value.style.transform=`translateX(${i.value}px)`,d.value.left=`${i.value}px`,k.value.style.width=i.value+25+"px",c("onDrag")))},F=t=>{s.value||(u.value=!0,m.value=!0,I.value=t.clientX,document.addEventListener("mousemove",C),document.addEventListener("mouseup",P))},M=()=>{l.value="default",h.value.style.transform="translateX(0px)",d.value.left="5px",k.value.style.width="0px"},P=()=>{u.value=!1,m.value=!1,c("onDragEnd"),i.value>=o.value.x-2&&i.value<=o.value.x+2?(s.value=!0,l.value="success",setTimeout(()=>{z()},1e3),c("onSuccess",s.value)):(s.value=!1,c("onFail",s.value),l.value="fail",setTimeout(()=>{M(),V()},1e3)),document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",P)},V=()=>{const t=Math.floor(Math.random()*8);o.value=oe[t],d.value.left="5px"},w=()=>{V(),s.value=!1,M()};return p({reset:w,open:ae,close:z,modelValue:s.value}),e.onMounted(()=>{V()}),(t,f)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[t.type==="insert"||t.type==="popover"?(e.openBlock(),e.createElementBlock("div",{key:0,class:"puzzle-wrapper",onMousemove:f[0]||(f[0]=x=>m.value=!0),onMouseleave:f[1]||(f[1]=x=>m.value=!1)},[e.createVNode(e.Transition,{name:"slide-up-down"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass({popover:t.type==="popover"})},[e.createElementVNode("img",{src:e.unref(_),class:"refresh",onClick:w,alt:""},null,8,X),e.createElementVNode("div",G,[e.createElementVNode("img",{src:o.value.backImg,alt:""},null,8,S)]),e.createElementVNode("div",{class:"img-block",style:e.normalizeStyle({left:d.value.left})},[e.createElementVNode("img",{src:o.value.blockImg,alt:""},null,8,L)],4)],2),[[e.vShow,m.value&&t.type==="popover"]])]),_:1}),e.withDirectives(e.createElementVNode("div",null,[e.createElementVNode("img",{src:e.unref(_),class:"refresh",onClick:w,alt:""},null,8,O),e.createElementVNode("div",T,[e.createElementVNode("img",{src:o.value.backImg,alt:""},null,8,R)]),e.createElementVNode("div",{class:"img-block",style:e.normalizeStyle({left:d.value.left})},[e.createElementVNode("img",{src:o.value.blockImg,alt:""},null,8,$)],4)],512),[[e.vShow,t.type==="insert"]]),e.createElementVNode("div",{class:e.normalizeClass(["drag",`drag-${l.value}`]),ref_key:"drag",ref:b},[e.createElementVNode("div",{class:"slider-fill",ref_key:"sliderFill",ref:k},null,512),e.createElementVNode("div",{class:"slider-thumb",ref_key:"sliderBlock",ref:h,onMousedown:F},[l.value==="default"?(e.openBlock(),e.createElementBlock("img",{key:0,src:e.unref(y),class:"slider-icon"},null,8,U)):e.createCommentVNode("",!0),l.value==="success"?(e.openBlock(),e.createElementBlock("img",{key:1,src:e.unref(v),class:"slider-icon"},null,8,H)):e.createCommentVNode("",!0),l.value==="fail"?(e.openBlock(),e.createElementBlock("img",{key:2,src:e.unref(E),class:"slider-icon"},null,8,W)):e.createCommentVNode("",!0)],544),l.value==="default"&&!u.value?(e.openBlock(),e.createElementBlock("div",Q,"按住按钮完成验证")):e.createCommentVNode("",!0)],2)],32)):e.createCommentVNode("",!0),t.type==="modal"&&g.value?(e.openBlock(),e.createBlock(D,{key:1,visible:g.value,"onUpdate:visible":f[2]||(f[2]=x=>g.value=x)},{default:e.withCtx(()=>[e.createElementVNode("div",q,[e.createElementVNode("img",{src:e.unref(_),class:"refresh",onClick:w,alt:""},null,8,J),e.createElementVNode("div",K,[e.createElementVNode("img",{src:o.value.backImg,alt:""},null,8,Y)]),e.createElementVNode("div",{class:"img-block",style:e.normalizeStyle({left:d.value.left})},[e.createElementVNode("img",{src:o.value.blockImg,alt:""},null,8,Z)],4),e.createElementVNode("div",{class:e.normalizeClass(["drag",`drag-${l.value}`]),ref_key:"drag",ref:b},[e.createElementVNode("div",{class:"slider-fill",ref_key:"sliderFill",ref:k},null,512),e.createElementVNode("div",{class:"slider-thumb",ref_key:"sliderBlock",ref:h,onMousedown:F},[l.value==="default"?(e.openBlock(),e.createElementBlock("img",{key:0,src:e.unref(y),class:"slider-icon"},null,8,ee)):e.createCommentVNode("",!0),l.value==="success"?(e.openBlock(),e.createElementBlock("img",{key:1,src:e.unref(v),class:"slider-icon"},null,8,le)):e.createCommentVNode("",!0),l.value==="fail"?(e.openBlock(),e.createElementBlock("img",{key:2,src:e.unref(E),class:"slider-icon"},null,8,te)):e.createCommentVNode("",!0)],544),l.value==="default"&&!u.value?(e.openBlock(),e.createElementBlock("div",se,"按住按钮完成验证")):e.createCommentVNode("",!0)],2)])]),_:1},8,["visible"])):e.createCommentVNode("",!0)],64))}}),[["__scopeId","data-v-3751d711"]]),ce={install:function(n){n.component("PuzzleVerify",B)}};a.PuzzleVerify=B,a.default=ce,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
